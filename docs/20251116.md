# MoneyPath é–‹ç™ºãƒ­ã‚° - 2025å¹´11æœˆ16æ—¥

## å®Ÿè£…å†…å®¹ã‚µãƒãƒªãƒ¼

1. ç¾åœ¨è³‡ç”£ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°æ©Ÿèƒ½ã®å®Ÿè£…
2. URLãƒ«ãƒ¼ãƒˆæ§‹é€ ã®ç°¡ç´ åŒ–
3. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰UIã®æ”¹å–„
4. ã‚°ãƒ©ãƒ•ã®è¦–è¦šåŒ–æ”¹å–„

---

## 1. ç¾åœ¨è³‡ç”£ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°æ©Ÿèƒ½

### æ¦‚è¦
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç·è³‡ç”£ï¼ˆåˆæœŸæ®‹é«˜ + åå…¥ - æ”¯å‡ºï¼‰ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¿½è·¡ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã€‚

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¤‰æ›´
**ãƒ•ã‚¡ã‚¤ãƒ«**: `prisma/schema.prisma`

```prisma
model User {
  initialBalance   Decimal?  @db.Decimal(10, 2) // åˆæœŸæ®‹é«˜
  balanceStartDate DateTime? // æ®‹é«˜è¨ˆç®—ã®é–‹å§‹æ—¥
}
```

- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ç›´æ¥SQLå®Ÿè¡Œï¼ˆshadow databaseã®æ¨©é™å•é¡Œã®ãŸã‚ï¼‰
- `npx prisma generate`ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå†ç”Ÿæˆ

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
**ãƒ•ã‚¡ã‚¤ãƒ«**: `app/api/user/balance/route.ts`

**GET /api/user/balance**
- åˆæœŸæ®‹é«˜ã¨é–‹å§‹æ—¥ã‚’å–å¾—
- é–‹å§‹æ—¥ä»¥é™ã®å…¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é›†è¨ˆ
- ç¾åœ¨è³‡ç”£ã‚’è¨ˆç®—: `åˆæœŸæ®‹é«˜ + åå…¥åˆè¨ˆ - æ”¯å‡ºåˆè¨ˆ`

**PUT /api/user/balance**
- åˆæœŸæ®‹é«˜ã¨é–‹å§‹æ—¥ã‚’è¨­å®š/æ›´æ–°

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

**è¨­å®šãƒšãƒ¼ã‚¸**: `app/settings/page.tsx`
- åˆæœŸæ®‹é«˜ã®å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- é–‹å§‹æ—¥ã®é¸æŠ
- æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Œã°è‡ªå‹•èª­ã¿è¾¼ã¿ãƒ»æ›´æ–°

**ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º**: `components/dashboard-client.tsx`
```typescript
{/* ç¾åœ¨ã®è³‡ç”£ã‚«ãƒ¼ãƒ‰ */}
<Card className="mb-8">
  <CardTitle>ç¾åœ¨ã®è³‡ç”£</CardTitle>
  <div className={`text-5xl font-bold ${
    (balanceData.currentBalance || 0) >= 0
      ? 'text-green-600'  // ãƒ—ãƒ©ã‚¹: ç·‘
      : 'text-red-600'    // ãƒã‚¤ãƒŠã‚¹: èµ¤
  }`}>
    {(balanceData.currentBalance || 0) < 0 && '-'}
    {formatCurrency(Math.abs(balanceData.currentBalance || 0))}
  </div>
  <div className="text-sm text-muted-foreground">
    {balanceData.balanceStartDate} ã«è¨˜éŒ²é–‹å§‹
  </div>
</Card>
```

**è¡¨ç¤ºå†…å®¹**:
- ç¾åœ¨ã®ç·è³‡ç”£é¡ï¼ˆå¤§ããè¡¨ç¤ºï¼‰
- ãƒ—ãƒ©ã‚¹ãªã‚‰ç·‘è‰²ã€ãƒã‚¤ãƒŠã‚¹ãªã‚‰èµ¤è‰²ã§è¡¨ç¤º
- è¨˜éŒ²é–‹å§‹æ—¥ã®è¡¨ç¤º
- åˆæœŸæ®‹é«˜ãƒ»åå…¥ãƒ»æ”¯å‡ºã®è©³ç´°ã¯å‰Šé™¤ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ã«ï¼‰

---

## 2. URLãƒ«ãƒ¼ãƒˆæ§‹é€ ã®ç°¡ç´ åŒ–

### èª²é¡Œ
å…¨ã¦ã®ãƒšãƒ¼ã‚¸ãŒ `/dashboard/*` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä»˜ãã§å†—é•·

### å¤‰æ›´å†…å®¹
**ç§»å‹•ã—ãŸãƒšãƒ¼ã‚¸**:
- `/dashboard/transactions` â†’ `/transactions`
- `/dashboard/categories` â†’ `/categories`
- `/dashboard/settings` â†’ `/settings`
- `/dashboard` ã¯ç¶­æŒï¼ˆãƒ›ãƒ¼ãƒ ï¼‰

**æ›´æ–°ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«**:
1. ãƒšãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã®ç§»å‹•
   - `app/dashboard/transactions/page.tsx` â†’ `app/transactions/page.tsx`
   - `app/dashboard/categories/page.tsx` â†’ `app/categories/page.tsx`
   - `app/dashboard/settings/page.tsx` â†’ `app/settings/page.tsx`

2. ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒªãƒ³ã‚¯æ›´æ–°
   - `components/dashboard-sidebar.tsx`: å…¨ãƒªãƒ³ã‚¯ãƒ‘ã‚¹ã‚’æ›´æ–°

3. ãã®ä»–ã®ãƒªãƒ³ã‚¯æ›´æ–°
   - `components/dashboard-client.tsx`: è¨­å®šãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯
   - `app/transactions/page.tsx`: ã‚«ãƒ†ã‚´ãƒªãƒ¼ç®¡ç†ã¸ã®ãƒªãƒ³ã‚¯

### ã‚¨ãƒ©ãƒ¼å¯¾å¿œ
- `.next`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¯ãƒªãƒ¼ãƒ³ã—ã¦å†ãƒ“ãƒ«ãƒ‰ï¼ˆå‹å®šç¾©ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥å•é¡Œï¼‰

---

## 3. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•ã®æ”¹å–„

### ãƒˆãƒ¬ãƒ³ãƒ‰ã‚°ãƒ©ãƒ•ã®å¤‰æ›´

**1. ãƒ‡ãƒ¼ã‚¿ãŒãªã„æœˆã‚‚è¡¨ç¤º**
- å¤‰æ›´å‰: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹æœˆã®ã¿è¡¨ç¤º
- å¤‰æ›´å¾Œ: ãƒ‡ãƒ¼ã‚¿ãŒãªã„æœˆã‚‚0ã¨ã—ã¦è¡¨ç¤ºï¼ˆå¿…ãš12ãƒ¶æœˆåˆ†è¡¨ç¤ºï¼‰

```typescript
// å¤‰æ›´å‰
if (data.summary.transactionCount > 0) {
  trends.push({...});
}

// å¤‰æ›´å¾Œ
trends.push({
  totalIncome: data.summary.totalIncome || 0,
  totalExpense: data.summary.totalExpense || 0,
  balance: data.summary.balance || 0,
});
```

**2. æ£’ã‚°ãƒ©ãƒ• â†’ æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•**
- Rechartsã®`BarChart` â†’ `LineChart`ã«å¤‰æ›´
- `Bar` â†’ `Line`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¤‰æ›´
- ç·šã®è¨­å®š:
  - `type="monotone"`: æ»‘ã‚‰ã‹ãªæ›²ç·š
  - `strokeWidth={2}`: ç·šã®å¤ªã•
  - `dot={{ fill: '#22c55e', r: 4 }}`: ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã«ãƒ‰ãƒƒãƒˆè¡¨ç¤º
- åå…¥: ç·‘è‰²ï¼ˆ`#22c55e`ï¼‰
- æ”¯å‡º: èµ¤è‰²ï¼ˆ`#ef4444`ï¼‰

**3. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºã®è¿½åŠ **
- ã‚°ãƒ©ãƒ•ã®æœŸé–“å¤‰æ›´æ™‚ï¼ˆå·¦å³çŸ¢å°ã‚¯ãƒªãƒƒã‚¯ï¼‰ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¡¨ç¤º
- `fetchMonthlyTrends`é–¢æ•°ã«`startLoading()`ã¨`stopLoading()`ã‚’è¿½åŠ 

### å††ã‚°ãƒ©ãƒ•ã®æ”¹å–„

**1. ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒªã‚¹ãƒˆã®å‰Šé™¤**
- å††ã‚°ãƒ©ãƒ•ä¸‹ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒªã‚¹ãƒˆã‚’å‰Šé™¤
- å††ã‚°ãƒ©ãƒ•ã®ã¿ã‚’å¤§ããè¡¨ç¤º

**2. ãƒ©ãƒ™ãƒ«ãƒ†ã‚­ã‚¹ãƒˆã®è‰²ä¿®æ­£**
- èª²é¡Œ: å††ã‚°ãƒ©ãƒ•ã®è‰²ãŒè–„ã„å ´åˆã€ãƒ©ãƒ™ãƒ«ãƒ†ã‚­ã‚¹ãƒˆãŒè¦‹ã¥ã‚‰ã„
- è§£æ±º: ã‚«ã‚¹ã‚¿ãƒ ãƒ©ãƒ™ãƒ«ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’å®Ÿè£…

**3. è‰²åˆ†ã‘ã®æ”¹å–„**
- ä¸Šä½5ã¤ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼: ç•°ãªã‚‹ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«ã®è‰²ã‚’é©ç”¨
- 6ä½ä»¥é™ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼: åŒã˜è–„ã„ã‚°ãƒ¬ãƒ¼è‰²ã§çµ±ä¸€

```typescript
const COLORS = ['#2d2d2d', '#4a4a4a', '#6b6b6b', '#8c8c8c', '#adadad'];
const OTHER_COLOR = '#cecece';

const getColor = (index: number) => {
  return index < 5 ? COLORS[index] : OTHER_COLOR;
};
```

**4. å††ã‚°ãƒ©ãƒ•ã®é–‹å§‹ä½ç½®å¤‰æ›´**
- å¤‰æ›´å‰: å³å´ï¼ˆ3æ™‚ã®ä½ç½®ï¼‰ã‹ã‚‰åæ™‚è¨ˆå›ã‚Š
- å¤‰æ›´å¾Œ: çœŸä¸Šï¼ˆ12æ™‚ã®ä½ç½®ï¼‰ã‹ã‚‰æ™‚è¨ˆå›ã‚Š

```typescript
<Pie
  startAngle={90}   // çœŸä¸Šã‹ã‚‰é–‹å§‹
  endAngle={-270}   // æ™‚è¨ˆå›ã‚Š
/>
```

**5. ãƒ©ãƒ™ãƒ«ç·šã®é•·ã•èª¿æ•´**
- èª²é¡Œ: ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ãŒå°ã•ã„ã‚«ãƒ†ã‚´ãƒªãƒ¼ã®ãƒ©ãƒ™ãƒ«ãŒé‡è¤‡ã—ã¦è¦‹ã¥ã‚‰ã„
- è§£æ±º: ã‚«ã‚¹ã‚¿ãƒ ãƒ©ãƒ™ãƒ«ç·šãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’å®Ÿè£…ã—ã€ãƒ©ãƒ™ãƒ«ä½ç½®ã‚’å††ã®å¤–å‘¨ã‹ã‚‰150pxé›¢ã™

```typescript
const renderCustomLabelLine = (entry: any) => {
  const { cx, cy, midAngle, outerRadius } = entry.payload;
  const RADIAN = Math.PI / 180;
  // ç·šã®å§‹ç‚¹ï¼šå††ã®å¤–å‘¨
  const x1 = cx + outerRadius * Math.cos(-midAngle * RADIAN);
  const y1 = cy + outerRadius * Math.sin(-midAngle * RADIAN);
  // ç·šã®çµ‚ç‚¹ï¼šãƒ©ãƒ™ãƒ«ä½ç½®ï¼ˆå††ã®å¤–å´ã‹ã‚‰150pxé›¢ã‚ŒãŸä½ç½®ï¼‰
  const radius = outerRadius + 150;
  const x2 = cx + radius * Math.cos(-midAngle * RADIAN);
  const y2 = cy + radius * Math.sin(-midAngle * RADIAN);

  return (
    <line x1={x1} y1={y1} x2={x2} y2={y2} stroke="#000" strokeWidth={1} />
  );
};

const renderCustomLabel = (entry: any) => {
  const { cx, cy, midAngle, outerRadius, categoryName, totalAmount } = entry;
  const RADIAN = Math.PI / 180;
  // ãƒ©ãƒ™ãƒ«ã‚’å††ã®å¤–å´ã‹ã‚‰ã•ã‚‰ã«150pxé›¢ã™
  const radius = outerRadius + 150;
  const x = cx + radius * Math.cos(-midAngle * RADIAN);
  const y = cy + radius * Math.sin(-midAngle * RADIAN);
  const percentage = ((totalAmount / stats.totalExpense) * 100).toFixed(0);
  return (
    <text x={x} y={y} fill="#000" fontSize={14} textAnchor={x > cx ? 'start' : 'end'} dominantBaseline="central">
      {`${categoryName} (${percentage}%)`}
    </text>
  );
};
```

- å††ã‚°ãƒ©ãƒ•ã®è‰²: ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«ï¼ˆä¸Šä½5ã¤ã¯ç•°ãªã‚‹è‰²ã€6ä½ä»¥é™ã¯åŒã˜è‰²ï¼‰
- ãƒ©ãƒ™ãƒ«ãƒ†ã‚­ã‚¹ãƒˆ: å¸¸ã«é»’ï¼ˆ`#000`ï¼‰
- ãƒ©ãƒ™ãƒ«ãƒ©ã‚¤ãƒ³: é»’ï¼ˆ`#000`ï¼‰ã€å††ã®å¤–å‘¨ã‹ã‚‰150pxé›¢ã‚ŒãŸä½ç½®ã¾ã§ä¼¸ã³ã‚‹

---

## 4. ãã®ä»–ã®æ”¹å–„

### æ—¥ä»˜ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ä¿®æ­£
**ãƒ•ã‚¡ã‚¤ãƒ«**: `app/transactions/page.tsx`

**èª²é¡Œ**: `new Date().toISOString().split("T")[0]`ãŒUTCå¤‰æ›ã«ã‚ˆã‚Šå‰æ—¥ã«ãªã‚‹å•é¡Œ

**è§£æ±º**:
```typescript
// å¤‰æ›´å‰
date: new Date().toISOString().split("T")[0]

// å¤‰æ›´å¾Œ
date: (() => {
  const today = new Date();
  const year = today.getFullYear();
  const month = String(today.getMonth() + 1).padStart(2, '0');
  const day = String(today.getDate()).padStart(2, '0');
  return `${year}-${month}-${day}`;
})()
```

### Gitè¨­å®šã®ä¿®æ­£
- SSHæ¥ç¶šã‚¨ãƒ©ãƒ¼ã®ãŸã‚HTTPSã«åˆ‡ã‚Šæ›¿ãˆ
- ãƒªãƒ¢ãƒ¼ãƒˆURLä¿®æ­£: `https://github.com/k-masasa/moneypath.git`

---

## æ¤œè¨¼çµæœ

- âœ… `npm run build`: æˆåŠŸ
- âœ… Dockerã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•: æˆåŠŸ
- âœ… å…¨æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª: æˆåŠŸ

---

## ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ”¹å–„

1. **è³‡ç”£ç®¡ç†**: ç¾åœ¨ã®ç·è³‡ç”£ãŒä¸€ç›®ã§ã‚ã‹ã‚‹
2. **ã‚·ãƒ³ãƒ—ãƒ«ãªURL**: `/transactions`ãªã©è¦šãˆã‚„ã™ã„
3. **è¦‹ã‚„ã™ã„ã‚°ãƒ©ãƒ•**:
   - æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã§ãƒˆãƒ¬ãƒ³ãƒ‰ãŒæ˜ç¢º
   - ãƒ‡ãƒ¼ã‚¿ãŒãªã„æœˆã‚‚è¡¨ç¤º
   - ãƒ©ãƒ™ãƒ«ãƒ†ã‚­ã‚¹ãƒˆãŒèª­ã¿ã‚„ã™ã„
4. **ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º**: å‡¦ç†ä¸­ã®çŠ¶æ…‹ãŒæ˜ç¢º
5. **è‰²åˆ†ã‘**: ãƒ—ãƒ©ã‚¹ï¼ˆç·‘ï¼‰/ãƒã‚¤ãƒŠã‚¹ï¼ˆèµ¤ï¼‰ã§ç›´æ„Ÿçš„

---

## ä»Šå¾Œã®æ‹¡å¼µå¯èƒ½æ€§

- [ ] è¤‡æ•°å£åº§ç®¡ç†ï¼ˆPayPayã€éŠ€è¡Œã€ç¾é‡‘ãªã©ï¼‰
- [ ] è²¯é‡‘æ©Ÿèƒ½
- [ ] è² å‚µç®¡ç†
- [ ] äºˆç®—è¨­å®šã¨æ¯”è¼ƒ
- [ ] CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

---

## 5. UIæ”¹å–„ï¼ˆå¾ŒåŠï¼‰

### å††ã‚°ãƒ©ãƒ•ã®NaNã‚¨ãƒ©ãƒ¼ä¿®æ­£
**ãƒ•ã‚¡ã‚¤ãƒ«**: `components/dashboard-client.tsx`

**å•é¡Œ**: `Received NaN for the 'x1' attribute`ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ

**åŸå› **: Rechartsã®`entry`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‚’é–“é•ãˆã¦å‚ç…§
- `renderCustomLabelLine`: `entry.payload`ã‹ã‚‰å–å¾— â†’ `entry`ã‹ã‚‰ç›´æ¥å–å¾—ã«ä¿®æ­£
- `renderCustomLabel`: åº§æ¨™ã¯`entry`ã€ãƒ‡ãƒ¼ã‚¿ã¯`entry.payload`ã‹ã‚‰å–å¾—ã«ä¿®æ­£

### ãƒ˜ãƒƒãƒ€ãƒ¼èƒŒæ™¯è‰²å¤‰æ›´
**ãƒ•ã‚¡ã‚¤ãƒ«**: `components/dashboard-header.tsx`
- èƒŒæ™¯è‰²ã‚’`#f6f8fa`ã«å¤‰æ›´ï¼ˆGitHubé¢¨ã®è–„ã„ã‚°ãƒ¬ãƒ¼ï¼‰

### ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®é¸æŠçŠ¶æ…‹ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´
**ãƒ•ã‚¡ã‚¤ãƒ«**: `components/dashboard-sidebar.tsx`
- å¤‰æ›´å‰: èƒŒæ™¯è‰²ã§å¼·èª¿
- å¤‰æ›´å¾Œ: ãƒ†ã‚­ã‚¹ãƒˆä¸‹ç·šã®ã¿ï¼ˆã‚ˆã‚ŠãƒŸãƒ‹ãƒãƒ«ï¼‰

### è³‡ç”£è¡¨ç¤ºã‚¿ã‚¤ãƒˆãƒ«ã®å¤‰æ›´
**ãƒ•ã‚¡ã‚¤ãƒ«**: `components/dashboard-client.tsx`
- å¤‰æ›´å‰: ã€Œç¾åœ¨ã®è³‡ç”£ã€
- å¤‰æ›´å¾Œ: ã€ŒYYYY/MM/DD æ™‚ç‚¹ã®è³‡ç”£ã€ï¼ˆå‹•çš„ã«ç¾åœ¨æ—¥æ™‚è¡¨ç¤ºï¼‰

### æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã®æ”¹å–„
**ãƒ•ã‚¡ã‚¤ãƒ«**: `components/dashboard-client.tsx`

1. **ä»Šæœˆã®ãƒ©ãƒ™ãƒ«ã‚’å¤ªå­—ã§å¼·èª¿**
   - Xè»¸ãƒ©ãƒ™ãƒ«ã§ç¾åœ¨æœˆã ã‘`fontWeight='bold'`
   - ã‚«ã‚¹ã‚¿ãƒ tickã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè£…

2. **ã‚°ãƒ©ãƒ•ã®paddingè¿½åŠ **
   - `margin={{ top: 5, right: 30, left: 20, bottom: 5 }}`
   - ä¸¡ç«¯ã®ãƒ©ãƒ™ãƒ«ãŒåˆ‡ã‚Œãªã„ã‚ˆã†ã«æ”¹å–„

3. **2025/10è¡¨ç¤ºå•é¡Œä¿®æ­£**
   - APIå¤±æ•—æ™‚ã§ã‚‚ãƒ‡ãƒ¼ã‚¿ã‚’0ã¨ã—ã¦é…åˆ—ã«è¿½åŠ 
   - å¿…ãš12ãƒ¶æœˆåˆ†è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ä¿®æ­£

4. **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã‚’å³ä¸Šã«é…ç½®**
   - `justify-between` â†’ `justify-end`
   - å·¦å³çŸ¢å°ãƒœã‚¿ãƒ³ã‚’å³ä¸Šã«å¯„ã›ãŸ

### å††ã‚°ãƒ©ãƒ•ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
**ãƒ•ã‚¡ã‚¤ãƒ«**: `components/dashboard-client.tsx`

- æœˆåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ï¼ˆå‰æœˆãƒ»æ¬¡æœˆãƒ»ä»Šæœˆã«æˆ»ã‚‹ï¼‰ã‚’è¿½åŠ 
- CardHeaderã«é…ç½®
- æ—¢å­˜ã®é–¢æ•°ï¼ˆ`handlePreviousMonth`, `handleNextMonth`, `handleCurrentMonth`ï¼‰ã‚’æ´»ç”¨

### ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¨­å®šãƒšãƒ¼ã‚¸ã¸ã®å‹•ç·šè¿½åŠ 
**ãƒ•ã‚¡ã‚¤ãƒ«**: `components/dashboard-sidebar.tsx`
- ã€Œè¨­å®šã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã‚’è¿½åŠ 
- `/settings`ã¸ã®ãƒªãƒ³ã‚¯
- `Settings`ã‚¢ã‚¤ã‚³ãƒ³ã‚’ä½¿ç”¨

---

## 6. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã®å¤§è¦æ¨¡å¤‰æ›´

### è¦ä»¶
- **ãƒ†ãƒ¼ãƒ–ãƒ«å**: å…¨ã¦å°æ–‡å­—ãƒ»ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ãƒ»è¤‡æ•°å½¢
- **ã‚«ãƒ©ãƒ å**: ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹
- **`created_at`, `updated_at`**: æœ€å¾Œå°¾ã«é…ç½®
- **å‰Šé™¤ãƒ•ãƒ©ã‚°ãƒ»å‰Šé™¤æ—¥æ™‚**: å°†æ¥è¿½åŠ ã™ã‚‹å ´åˆã¯æœ€å¾Œå°¾

### ä½œæ¥­æ‰‹é †

#### 1. DBãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å–å¾—
```bash
docker compose -f docker-compose.dev.yml exec db mysqldump -u moneypath -pmoneypath_password --no-tablespaces moneypath > backup_20251116_213554.sql
```
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: 23KB
- å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€

#### 2. Prismaã‚¹ã‚­ãƒ¼ãƒä¿®æ­£
**ãƒ•ã‚¡ã‚¤ãƒ«**: `prisma/schema.prisma`

**æ–¹é‡**:
- **Prismaãƒ¢ãƒ‡ãƒ«å†…**: ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ç¶­æŒï¼ˆTypeScriptã§æ‰±ã„ã‚„ã™ã„ï¼‰
- **DBå´ã‚«ãƒ©ãƒ å**: ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ã«`@map()`ã§æŒ‡å®š
- **ãƒ†ãƒ¼ãƒ–ãƒ«å**: è¤‡æ•°å½¢ãƒ»å°æ–‡å­—ã«`@@map()`ã§æŒ‡å®š

**ä¾‹**:
```prisma
model User {
  id               String    @id @default(uuid())
  email            String    @unique
  initialBalance   Decimal?  @map("initial_balance")
  balanceStartDate DateTime? @map("balance_start_date")
  createdAt        DateTime  @map("created_at")
  updatedAt        DateTime  @map("updated_at")

  @@map("users")
}
```

#### 3. MySQLæ¨©é™ä»˜ä¸
```bash
docker compose -f docker-compose.dev.yml exec db mysql -u root -proot_password -e "GRANT ALL PRIVILEGES ON *.* TO 'moneypath'@'%'; FLUSH PRIVILEGES;"
```
- Shadow databaseä½œæˆã®ãŸã‚ã«å…¨æ¨©é™ä»˜ä¸

#### 4. ã‚¹ã‚­ãƒ¼ãƒé©ç”¨
```bash
npx prisma db push --accept-data-loss
```
âš ï¸ **ã“ã®æ™‚ç‚¹ã§ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ç™ºç”Ÿ**ï¼ˆæ–°ã‚¹ã‚­ãƒ¼ãƒã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒç©ºã§ä½œæˆã•ã‚Œã‚‹ï¼‰

#### 5. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ãƒªã‚¹ãƒˆã‚¢
```bash
docker compose -f docker-compose.dev.yml exec -T db mysql -u moneypath -pmoneypath_password moneypath < backup_20251116_213554.sql
```
- æ—§ã‚¹ã‚­ãƒ¼ãƒã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒãƒªã‚¹ãƒˆã‚¢ã•ã‚Œã‚‹ï¼ˆUser, Category, Transactionç­‰ï¼‰

#### 6. æ‰‹å‹•ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³SQLå®Ÿè¡Œ
**ãƒ•ã‚¡ã‚¤ãƒ«**: `migrate_to_snake_case.sql`

**å†…å®¹**:
1. æ–°ã‚¹ã‚­ãƒ¼ãƒã§ä½œæˆã•ã‚ŒãŸç©ºãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‰Šé™¤
   ```sql
   DROP TABLE IF EXISTS `transactions`;
   DROP TABLE IF EXISTS `categories`;
   -- ä»–ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚‚åŒæ§˜
   ```

2. æ—§ãƒ†ãƒ¼ãƒ–ãƒ«åã‚’ãƒªãƒãƒ¼ãƒ 
   ```sql
   ALTER TABLE `User` RENAME TO `users`;
   ALTER TABLE `Category` RENAME TO `categories`;
   ALTER TABLE `Transaction` RENAME TO `transactions`;
   -- ä»–ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚‚åŒæ§˜
   ```

3. å…¨ã‚«ãƒ©ãƒ åã‚’ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ã«å¤‰æ›´
   ```sql
   ALTER TABLE `users` CHANGE COLUMN `initialBalance` `initial_balance` DECIMAL(10, 2);
   ALTER TABLE `users` CHANGE COLUMN `balanceStartDate` `balance_start_date` DATETIME;
   ALTER TABLE `users` CHANGE COLUMN `createdAt` `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP;
   ALTER TABLE `users` CHANGE COLUMN `updatedAt` `updated_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
   -- ä»–ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚‚åŒæ§˜
   ```

**å®Ÿè¡Œ**:
```bash
docker compose -f docker-compose.dev.yml exec -T db mysql -u moneypath -pmoneypath_password moneypath < migrate_to_snake_case.sql
```

#### 7. Dockerã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•
```bash
docker compose -f docker-compose.dev.yml restart app
```
- Prisma Clientè‡ªå‹•å†ç”Ÿæˆ
- ã‚¨ãƒ©ãƒ¼ãªãæ­£å¸¸èµ·å‹•

### å¤‰æ›´å†…å®¹ã¾ã¨ã‚

| é …ç›® | å¤‰æ›´å‰ | å¤‰æ›´å¾Œ |
|------|--------|--------|
| **ãƒ†ãƒ¼ãƒ–ãƒ«å** | `User`, `Category`, `Transaction`, `Income`, `Expense`, `Debt`, `Goal` | `users`, `categories`, `transactions`, `incomes`, `expenses`, `debts`, `goals` |
| **ã‚«ãƒ©ãƒ å** | `userId`, `createdAt`, `categoryId`, `initialBalance`, `balanceStartDate` | `user_id`, `created_at`, `category_id`, `initial_balance`, `balance_start_date` |
| **Prismaãƒ¢ãƒ‡ãƒ«** | ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ | ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ï¼ˆç¶­æŒï¼‰ |
| **DBå´ã‚«ãƒ©ãƒ ** | ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ | ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ |

### åçœç‚¹ãƒ»å­¦ã³

âš ï¸ **ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ã®ãƒªã‚¹ã‚¯**
- `prisma db push --accept-data-loss`å®Ÿè¡Œå‰ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªã™ã¹ãã ã£ãŸ
- ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ã®å¯èƒ½æ€§ãŒã‚ã‚‹æ“ä½œã¯å¿…ãšäº‹å‰ç¢ºèªã‚’å–ã‚‹

âœ… **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®é‡è¦æ€§**
- äº‹å‰ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–å¾—ã—ã¦ã„ãŸãŸã‚ã€ãƒ‡ãƒ¼ã‚¿æå¤±ãªãå¾©æ—§ã§ããŸ
- å¤§è¦æ¨¡ãªå¤‰æ›´å‰ã¯å¿…ãšãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚‹

âœ… **æ‰‹å‹•ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®æœ‰ç”¨æ€§**
- Prisma MigrateãŒä½¿ãˆãªã„å ´åˆã¯æ‰‹å‹•SQLã§å¯¾å¿œå¯èƒ½
- ãƒ†ãƒ¼ãƒ–ãƒ«åãƒ»ã‚«ãƒ©ãƒ åå¤‰æ›´ã¯`RENAME`ã¨`CHANGE COLUMN`ã§å®Ÿç¾

---

## 7. ãã®ä»–

### ãªã‚“Jèªã®ãƒ«ãƒ¼ãƒ«è¿½åŠ 
**ãƒ•ã‚¡ã‚¤ãƒ«**: `.claude/CLAUDE.md`
- ã€Œãªã‚“Jèªã‚‚é©å®œä½¿ç”¨ã—ã¦ãã ã•ã„ã€ã‚’è¿½åŠ 
- ä¾‹: ã€œã—ã¦ã‚¯ãƒ¬ãƒ¡ãƒ³ã‚¹ã€ã€œãƒ³ã‚´wwwã€ã‚µãƒ³ã‚­ãƒ¥ãƒ¼ã€œã€ã€œã‚„ã§ã€ãƒ¯ã‚¤ã€ç­‰

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
- å…¨APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§èªè¨¼ãƒã‚§ãƒƒã‚¯å®Ÿè£…æ¸ˆã¿ï¼ˆâœ…ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã§ãƒ‡ãƒ¼ã‚¿åˆ†é›¢å®Ÿè£…æ¸ˆã¿ï¼ˆâœ…ï¼‰
- æ¨©é™ãƒã‚§ãƒƒã‚¯å®Ÿè£…æ¸ˆã¿ï¼ˆâœ…ï¼‰
- Zodã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…æ¸ˆã¿ï¼ˆâœ…ï¼‰

**è¦æ”¹å–„ç‚¹**:
- [ ] AUTH_SECRETã‚’æœ¬ç•ªç’°å¢ƒç”¨ã«å¼·åŒ–
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®è¿½åŠ 
- [ ] CORSè¨­å®šã®è¿½åŠ 
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆSentryç­‰ï¼‰ã«é€ä¿¡
- [ ] HTTPSå¿…é ˆï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰

---

## ä»Šæ—¥ã®ä½œæ¥­æ™‚é–“
- å‰åŠ: ç¾åœ¨è³‡ç”£æ©Ÿèƒ½ã€URLæ§‹é€ å¤‰æ›´ã€ã‚°ãƒ©ãƒ•æ”¹å–„
- å¾ŒåŠ: UIç´°éƒ¨èª¿æ•´ã€DBã‚¹ã‚­ãƒ¼ãƒå¤§è¦æ¨¡å¤‰æ›´

## æ¤œè¨¼çµæœï¼ˆæœ€çµ‚ï¼‰
- âœ… `npm run type-check`: æˆåŠŸ
- âœ… `npm run build`: æˆåŠŸ
- âœ… Dockerã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•: æˆåŠŸ
- âœ… DBã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´: æˆåŠŸï¼ˆãƒ‡ãƒ¼ã‚¿ä¿æŒï¼‰
- âœ… å…¨æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª: æˆåŠŸ

---

## 8. ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆæ¤œè¨ï¼ˆå¤–éƒ¨å…¬é–‹ã«å‘ã‘ã¦ï¼‰

### è¦ä»¶
- **ã‚³ã‚¹ãƒˆæœ€å„ªå…ˆ**: ã§ãã‚‹ã ã‘ç„¡æ–™ã€œä½ã‚³ã‚¹ãƒˆã§é‹ç”¨ã—ãŸã„
- **å­¦ç¿’**: AWS/Azureã®çµŒé¨“ã‚‚ç©ã¿ãŸã„ï¼ˆãŸã ã—å„ªå…ˆåº¦ã¯ä½ã‚ï¼‰
- **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Next.js 16 + MySQL (Docker)

### æ¨å¥¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³

#### ğŸ¥‡ 1ä½: Vercel + Supabaseï¼ˆã‚³ã‚¹ãƒˆæœ€å„ªå…ˆï¼‰

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… **å®Œå…¨ç„¡æ–™ã§ã‚¹ã‚¿ãƒ¼ãƒˆå¯èƒ½**
- âœ… Next.jsã¨ã®è¦ªå’Œæ€§ãŒæœ€é«˜ï¼ˆVercelãŒé–‹ç™ºå…ƒï¼‰
- âœ… è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã‚‚ç„¡æ–™
- âœ… Supabaseã®ç„¡æ–™æ ãŒæ‰‹åšã„ï¼ˆ500MB DBã€ç„¡åˆ¶é™APIï¼‰
- âœ… èªè¨¼æ©Ÿèƒ½ãŒæ¨™æº–è£…å‚™ï¼ˆå°†æ¥çš„ã«ä¾¿åˆ©ï¼‰
- âœ… ã‚¹ã‚±ãƒ¼ãƒ«ã—ã¦ã‚‚æ¯”è¼ƒçš„å®‰ä¾¡

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âŒ MySQLã‹ã‚‰PostgreSQLã¸ã®ç§»è¡ŒãŒå¿…è¦ï¼ˆPrismaãªã‚‰æ¯”è¼ƒçš„ç°¡å˜ï¼‰
- âŒ ã‚¤ãƒ³ãƒ•ãƒ©çŸ¥è­˜ã¯ã‚ã¾ã‚Šèº«ã«ã¤ã‹ãªã„

**ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š**:
- å€‹äººåˆ©ç”¨: **0å††/æœˆ**
- ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯å¢—åŠ å¾Œ: **0ã€œ1,000å††/æœˆ**

**ç„¡æ–™æ è©³ç´°**:
- Vercel: æœˆé–“100GBè»¢é€é‡ã€ç„¡åˆ¶é™ãƒ‡ãƒ—ãƒ­ã‚¤
- Supabase: 500MB storage, 50,000 monthly active users

#### ğŸ¥ˆ 2ä½: Fly.ioï¼ˆDockerãã®ã¾ã¾ä½¿ãˆã‚‹ï¼‰

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… **Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’ãã®ã¾ã¾ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½**ï¼ˆç¾åœ¨ã®ç’°å¢ƒã‚’æ´»ã‹ã›ã‚‹ï¼‰
- âœ… ç„¡æ–™æ ã§ååˆ†é‹ç”¨å¯èƒ½
- âœ… PostgreSQL/MySQLã‚‚ç„¡æ–™æ ã‚ã‚Š
- âœ… ã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹ï¼ˆ`flyctl launch`ã ã‘ï¼‰
- âœ… å°†æ¥çš„ãªæ‹¡å¼µæ€§ã‚‚é«˜ã„
- âœ… ã‚¤ãƒ³ãƒ•ãƒ©çŸ¥è­˜ã‚‚ãã“ãã“èº«ã«ã¤ã

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âŒ ç„¡æ–™æ ãŒå°‘ã—åˆ¶é™ã‚ã‚Šï¼ˆ256MB RAM Ã— 3å°ã¾ã§ï¼‰
- âŒ PostgreSQLãŒãƒ¡ã‚¤ãƒ³ãªã®ã§MySQLã®å ´åˆã¯è‡ªå‰æ§‹ç¯‰ãŒå¿…è¦

**ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š**:
- å€‹äººåˆ©ç”¨: **0å††/æœˆ**ï¼ˆç„¡æ–™æ å†…ï¼‰
- ã‚¹ã‚±ãƒ¼ãƒ«å¾Œ: **0ã€œ500å††/æœˆ**

**ç„¡æ–™æ è©³ç´°**:
- shared-cpu-1x (256MB RAM) Ã— 3å°ã¾ã§
- 3GBæ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- 160GBè»¢é€é‡/æœˆ

#### ğŸ¥‰ 3ä½: Railwayï¼ˆæœ€ã‚‚ç°¡å˜ï¼‰

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… Dockerå¯¾å¿œ
- âœ… DBè¾¼ã¿ã§ç°¡å˜ã«ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½
- âœ… UIãŒç›´æ„Ÿçš„ã§ä½¿ã„ã‚„ã™ã„
- âœ… MySQL/PostgreSQLä¸¡æ–¹ã‚µãƒãƒ¼ãƒˆ
- âœ… ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†ãŒç°¡å˜

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âŒ ç„¡æ–™æ ãŒ$5åˆ†ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ/æœˆã®ã¿ï¼ˆä½¿ã„åˆ‡ã‚‹å¯èƒ½æ€§ã‚ã‚Šï¼‰
- âŒ æœ¬æ ¼é‹ç”¨ã™ã‚‹ã¨æœˆ1,000å††ãã‚‰ã„ã‹ã‹ã‚‹

**ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š**:
- å€‹äººåˆ©ç”¨: **500ã€œ1,000å††/æœˆ**
- ã‚¹ã‚±ãƒ¼ãƒ«å¾Œ: **1,000ã€œ2,000å††/æœˆ**

**ç„¡æ–™æ è©³ç´°**:
- $5åˆ†ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ/æœˆï¼ˆç´„500å††ç›¸å½“ï¼‰
- ä½¿ã„åˆ‡ã‚‹ã¨åœæ­¢

#### ğŸ“ ç•ªå¤–ç·¨: AWS EC2 + RDSï¼ˆå‹‰å¼·å„ªå…ˆã®å ´åˆï¼‰

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… **12ãƒ¶æœˆç„¡æ–™ã§ãŒã£ã¤ã‚Šå­¦ã¹ã‚‹**
- âœ… ã‚¤ãƒ³ãƒ•ãƒ©çŸ¥è­˜ãŒä¸€æ°—ã«èº«ã«ã¤ã
- âœ… è»¢è·å¸‚å ´ã§AWSçµŒé¨“ã¯å¼·ã„
- âœ… ã‚·ã‚§ã‚¢No.1ãªã®ã§æƒ…å ±é‡ãŒåœ§å€’çš„ã«å¤šã„
- âœ… æ—¥æœ¬èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»è¨˜äº‹ã‚‚è±Šå¯Œ

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âŒ **ç„¡æ–™æœŸé–“çµ‚äº†å¾Œã®ã‚³ã‚¹ãƒˆãŒé«˜ã„**ï¼ˆæœˆ3,000ã€œ5,000å††ï¼‰
- âŒ ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†ã«æ™‚é–“ãŒå–ã‚‰ã‚Œã‚‹ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã€ãƒ‘ãƒƒãƒé©ç”¨ã€ç›£è¦–è¨­å®šï¼‰
- âŒ å€‹äººãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯
- âŒ ã‚³ã‚¹ãƒˆãŒèª­ã‚ãªã„ï¼ˆç„¡æ–™æ çµ‚ã‚ã£ãŸã‚‰é«˜é¡è«‹æ±‚ã®å¯èƒ½æ€§ï¼‰

**ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š**:
- 12ãƒ¶æœˆé–“: **0å††/æœˆ**ï¼ˆç„¡æ–™æ ï¼‰
- 13ãƒ¶æœˆç›®ä»¥é™: **3,000ã€œ5,000å††/æœˆ**ï¼ˆEC2 t2.micro + RDS db.t2.microï¼‰

**ç„¡æ–™æ è©³ç´°**:
- EC2 t2.micro: 750æ™‚é–“/æœˆï¼ˆ1å°ãƒ•ãƒ«ç¨¼åƒå¯èƒ½ï¼‰
- RDS db.t2.micro: 750æ™‚é–“/æœˆã€20GBã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- 12ãƒ¶æœˆé–“ã®ã¿

#### ğŸ“˜ ç•ªå¤–ç·¨2: Azure App Service + Azure Database for MySQL

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… 12ãƒ¶æœˆç„¡æ–™æ ã‚ã‚Š
- âœ… Microsoftè£½å“ã¨ã®è¦ªå’Œæ€§ãŒé«˜ã„
- âœ… ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã§ã®æ¡ç”¨ãŒå¢—ãˆã¦ã‚‹
- âœ… å­¦ç¿’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆMicrosoft Learnï¼‰ãŒå……å®Ÿ

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âŒ ç„¡æ–™æœŸé–“çµ‚äº†å¾Œã®ã‚³ã‚¹ãƒˆãŒé«˜ã„ï¼ˆAWSã¨åŒç­‰ï¼‰
- âŒ å›°ã£ãŸã¨ãã«æ—¥æœ¬èªæƒ…å ±ãŒå°‘ãªã„
- âŒ AWSã‚ˆã‚Šã‚‚æ±‚äººæ•°ãŒå°‘ãªã„

**ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š**:
- 12ãƒ¶æœˆé–“: **0å††/æœˆ**ï¼ˆç„¡æ–™æ ï¼‰
- 13ãƒ¶æœˆç›®ä»¥é™: **3,000ã€œ5,000å††/æœˆ**

### ã‚µãƒ¼ãƒ“ã‚¹æ¯”è¼ƒè¡¨

| ã‚µãƒ¼ãƒ“ã‚¹ | åˆæœŸã‚³ã‚¹ãƒˆ | å­¦ç¿’ä¾¡å€¤ | é‹ç”¨ã‚³ã‚¹ãƒˆ(äºˆæƒ³) | é›£æ˜“åº¦ | Dockerå¯¾å¿œ | MySQLå¯¾å¿œ |
|---------|-----------|---------|----------------|--------|-----------|----------|
| **Vercel + Supabase** | 0å†† | â­â­ | 0ã€œ1,000å††/æœˆ | â­ | âŒ | âŒ(PostgreSQL) |
| **Fly.io** | 0å†† | â­â­â­ | 0ã€œ500å††/æœˆ | â­â­ | âœ… | â–³(è¦è‡ªå‰æ§‹ç¯‰) |
| **Railway** | 0å†† | â­â­ | 500ã€œ1,000å††/æœˆ | â­ | âœ… | âœ… |
| **AWS (EC2+RDS)** | 0å††(12ãƒ¶æœˆ) | â­â­â­â­â­ | 3,000ã€œ5,000å††/æœˆ | â­â­â­â­ | âœ… | âœ… |
| **Azure** | 0å††(12ãƒ¶æœˆ) | â­â­â­â­ | 3,000ã€œ5,000å††/æœˆ | â­â­â­â­ | âœ… | âœ… |

### æ¨å¥¨ã™ã‚‹é¸æŠ

#### ğŸ’¡ ã‚±ãƒ¼ã‚¹1: ã‚³ã‚¹ãƒˆæœ€é‡è¦– + ã¨ã«ã‹ãæ—©ããƒªãƒªãƒ¼ã‚¹ã—ãŸã„
â†’ **Vercel + Supabase**

**ç†ç”±**:
- å®Œå…¨ç„¡æ–™ã§ã‚¹ã‚¿ãƒ¼ãƒˆå¯èƒ½
- Next.jsã¨ã®è¦ªå’Œæ€§æœ€é«˜ã§ãƒ‡ãƒ—ãƒ­ã‚¤ãŒçˆ†é€Ÿ
- ã‚¹ã‚±ãƒ¼ãƒ«ã—ã¦ã‚‚æ¯”è¼ƒçš„å®‰ä¾¡
- MySQLã‹ã‚‰PostgreSQLã¸ã®ç§»è¡Œã¯Prismaãªã‚‰ç°¡å˜ï¼ˆ`datasource db { provider = "postgresql" }`ã«å¤‰æ›´ã™ã‚‹ã ã‘ï¼‰

**ç§»è¡Œæ‰‹é †**:
1. `prisma/schema.prisma`ã®`provider`ã‚’`postgresql`ã«å¤‰æ›´
2. Supabaseã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
3. `DATABASE_URL`ã‚’Supabaseæ¥ç¶šæ–‡å­—åˆ—ã«å¤‰æ›´
4. `npx prisma db push`ã§ã‚¹ã‚­ãƒ¼ãƒé©ç”¨
5. ãƒ‡ãƒ¼ã‚¿ã¯CSVç­‰ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆâ†’ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆor æ‰‹å‹•å†å…¥åŠ›ï¼‰

#### ğŸ’¡ ã‚±ãƒ¼ã‚¹2: Dockerç’°å¢ƒã‚’ãã®ã¾ã¾æ´»ã‹ã—ãŸã„
â†’ **Fly.io**

**ç†ç”±**:
- ç¾åœ¨ã®Dockerç’°å¢ƒã‚’ãã®ã¾ã¾ä½¿ãˆã‚‹
- ç„¡æ–™æ ã§ååˆ†é‹ç”¨å¯èƒ½
- ãƒ‡ãƒ—ãƒ­ã‚¤ãŒç°¡å˜ï¼ˆ`flyctl launch`ã‚³ãƒãƒ³ãƒ‰ã ã‘ï¼‰
- ã‚¤ãƒ³ãƒ•ãƒ©çŸ¥è­˜ã‚‚ãã“ãã“èº«ã«ã¤ã

**ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †**:
1. `flyctl install`ã§CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. `flyctl launch`ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
3. `fly.toml`ã§è¨­å®šï¼ˆè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ï¼‰
4. `flyctl deploy`ã§ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†

#### ğŸ’¡ ã‚±ãƒ¼ã‚¹3: ã‚¤ãƒ³ãƒ•ãƒ©ã‚’ã‚¬ãƒƒãƒ„ãƒªå­¦ã³ãŸã„ + 12ãƒ¶æœˆã¯ç„¡æ–™ã§ä½¿ã„ãŸã„
â†’ **AWS EC2 + RDS**

**ç†ç”±**:
- 12ãƒ¶æœˆç„¡æ–™ã§ãŒã£ã¤ã‚Šå­¦ã¹ã‚‹
- ã‚¤ãƒ³ãƒ•ãƒ©çŸ¥è­˜ãŒä¸€æ°—ã«èº«ã«ã¤ã
- è»¢è·å¸‚å ´ã§AWSçµŒé¨“ã¯å¼·ã„

**æ³¨æ„ç‚¹**:
- âš ï¸ **ç„¡æ–™æœŸé–“çµ‚äº†å¾Œã®ã‚³ã‚¹ãƒˆã«æ³¨æ„**ï¼ˆæœˆ3,000ã€œ5,000å††ï¼‰
- âš ï¸ ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†ã«æ™‚é–“ãŒå–ã‚‰ã‚Œã‚‹
- âš ï¸ ã‚¢ãƒ—ãƒªé–‹ç™ºã«é›†ä¸­ã§ããªããªã‚‹å¯èƒ½æ€§ã‚ã‚Š

### âŒ ãŠã™ã™ã‚ã—ãªã„é¸æŠ

#### ã€Œå‹‰å¼·ã«ãªã‚‹ã‹ã‚‰ã€ã ã‘ã§AWS/Azureã‚’é¸ã¶ã®ã¯åå¯¾

**ç†ç”±**:
1. **ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†ã«æ™‚é–“å–ã‚‰ã‚Œã™ãã‚‹**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã€ãƒ‘ãƒƒãƒé©ç”¨ã€ç›£è¦–è¨­å®š...ã‚¢ãƒ—ãƒªé–‹ç™ºã«é›†ä¸­ã§ããªã„
2. **ã‚³ã‚¹ãƒˆãŒèª­ã‚ãªã„**: ç„¡æ–™æ çµ‚ã‚ã£ãŸå¾Œã€æ°—ã¥ã„ãŸã‚‰æœˆ5,000å††ã¨ã‹ã‚¶ãƒ©
3. **ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯**: å€‹äººãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«EC2+RDSã¯ãƒ‡ã‚«ã™ãã‚‹

**ææ¡ˆ**:
- ã¾ãšã¯Vercel + Supabaseã§çˆ†é€Ÿãƒ‡ãƒ—ãƒ­ã‚¤
- å®Ÿéš›ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä½¿ã£ã¦ã‚‚ã‚‰ã†
- ãã®å¾Œã€Œã‚‚ã£ã¨ã‚¤ãƒ³ãƒ•ãƒ©è§¦ã‚ŠãŸã„ã€ã£ã¦ãªã£ãŸã‚‰AWSç§»è¡Œã™ã‚Œã°ã„ã„

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã‚’æ±ºã‚ã‚‹**ï¼ˆä¸Šè¨˜ã®æ¨å¥¨ã‚’å‚è€ƒã«ï¼‰
2. **ç’°å¢ƒæ§‹ç¯‰**ï¼ˆé¸ã‚“ã ã‚µãƒ¼ãƒ“ã‚¹ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆï¼‰
3. **ãƒ‡ãƒ—ãƒ­ã‚¤**ï¼ˆå„ã‚µãƒ¼ãƒ“ã‚¹ã®æ‰‹é †ã«å¾“ã†ï¼‰
4. **ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š**ï¼ˆãŠåå‰.comãªã©ã§ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³å–å¾—ã™ã‚‹ã‹æ¤œè¨ï¼‰
5. **ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°è¨­å®š**ï¼ˆã‚¨ãƒ©ãƒ¼ç›£è¦–ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ï¼‰

### å‚è€ƒãƒªãƒ³ã‚¯ï¼ˆå¾Œã§è¦‹ã‚‹ç”¨ï¼‰

- Vercelå…¬å¼: https://vercel.com/
- Supabaseå…¬å¼: https://supabase.com/
- Fly.ioå…¬å¼: https://fly.io/
- Railwayå…¬å¼: https://railway.app/
- AWSç„¡æ–™æ : https://aws.amazon.com/jp/free/
- Azureç„¡æ–™æ : https://azure.microsoft.com/ja-jp/pricing/free-services/

---
